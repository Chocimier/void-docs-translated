<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="utf-8">
        <title>Instalacja z użyciem chroot (x86/x86_64) - Void Linux Handbook</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../../">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
        </script>
		<!-- Work around some values being stored in localStorage wrapped in quotes -->
		<script type="text/javascript">
			try {
				var sidebar = localStorage.getItem('mdbook-sidebar');

				if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
					localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
				}
			} catch (e) { }
		</script>

		<header>
			<nav id="void-nav">
				<ul>
					<li><a id="skip-to-content" tabindex="1" href="#main">Skip to content</a></li>
					<li>
						<button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
								<path d="M1 3v2h18V3zm0 8h18V9H1zm0 6h18v-2H1z"/>
							</svg>
						</button>
					</li>
				
					<li>
						<button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
								<path d="M7.5 13c3.04 0 5.5-2.46 5.5-5.5S10.54 2 7.5 2 2 4.46 2 7.5 4.46 13 7.5 13zm4.55.46C10.79 14.43 9.21 15 7.5 15 3.36 15 0 11.64 0 7.5S3.36 0 7.5 0C11.64 0 15 3.36 15 7.5c0 1.71-.57 3.29-1.54 4.55l6.49 6.49-1.41 1.41-6.49-6.49z"/>
							</svg>
						</button>
					</li>
				
                                        <noscript>
                                          <li class="js-unavailable">Search functionality requires JavaScript</li>
                                        </noscript>
				</ul>
				<ul id="nav-right">
					<li><a href="https://www.voidlinux.org">Home</a></li>
					<li><a href="https://www.voidlinux.org/news/">News</a></li>
					<li><a href="https://www.voidlinux.org/download/">Download</a></li>
					<li><a href="https://www.voidlinux.org/packages/">Packages</a></li>
					<li><a href="https://docs.voidlinux.org">Documentation</a></li>
					<li><a href="https://man.voidlinux.org/">Manual Pages</a></li>
					<li><a href="https://reddit.com/r/voidlinux">Forum</a></li>
					<li><a href="https://voidlinux.org/contribute/">Join Us</a></li>
					<li><a href="https://github.com/void-linux">GitHub</a></li>
				</ul>
			</nav>
		</header>

		<div id="content">

			<!-- Hide / unhide sidebar before it is displayed -->
			<script type="text/javascript">
				var html = document.querySelector('html');
				var sidebar = 'hidden';
				if (document.body.clientWidth >= 1080) {
					try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
					sidebar = sidebar || 'visible';
				}
				html.classList.remove('sidebar-visible');
				html.classList.add("sidebar-" + sidebar);
			</script>

			<nav id="sidebar" aria-label="Table of contents">
				<ol class="chapter"><li class="chapter-item expanded "><a href="../../about/index.html"><strong aria-hidden="true">1.</strong> O Voidzie</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../about/history.html"><strong aria-hidden="true">1.1.</strong> Historia</a></li><li class="chapter-item expanded "><a href="../../about/about-this-handbook.html"><strong aria-hidden="true">1.2.</strong> O podręczniku</a></li><li class="chapter-item expanded "><a href="../../about/infradocs.html"><strong aria-hidden="true">1.3.</strong> InfraDocs</a></li></ol></li><li class="chapter-item expanded "><a href="../../installation/index.html"><strong aria-hidden="true">2.</strong> Instalacja</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../installation/live-images/index.html"><strong aria-hidden="true">2.1.</strong> Obrazy instalacyjne</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../installation/live-images/prep.html"><strong aria-hidden="true">2.1.1.</strong> Przygotowanie nośnika instalacyjnego</a></li><li class="chapter-item expanded "><a href="../../installation/live-images/partitions.html"><strong aria-hidden="true">2.1.2.</strong> Partycjonowanie</a></li><li class="chapter-item expanded "><a href="../../installation/live-images/guide.html"><strong aria-hidden="true">2.1.3.</strong> Instrukcja instalacji</a></li></ol></li><li class="chapter-item expanded "><a href="../../installation/guides/index.html"><strong aria-hidden="true">2.2.</strong> Zaawansowane aspekty instalacji</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../installation/guides/chroot.html" class="active"><strong aria-hidden="true">2.2.1.</strong> Instalacja z użyciem chroot (x86/x86_64)</a></li><li class="chapter-item expanded "><a href="../../installation/guides/fde.html"><strong aria-hidden="true">2.2.2.</strong> Szyfrowanie dysku</a></li><li class="chapter-item expanded "><a href="../../installation/guides/arm-devices/index.html"><strong aria-hidden="true">2.2.3.</strong> Urządzenia ARM</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../installation/guides/arm-devices/platforms.html"><strong aria-hidden="true">2.2.3.1.</strong> Obsługiwany sprzęt</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../installation/musl.html"><strong aria-hidden="true">2.3.</strong> musl</a></li></ol></li><li class="chapter-item expanded "><a href="../../config/index.html"><strong aria-hidden="true">3.</strong> Konfiguracja</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../config/man.html"><strong aria-hidden="true">3.1.</strong> Podręczniki programów</a></li><li class="chapter-item expanded "><a href="../../config/firmware.html"><strong aria-hidden="true">3.2.</strong> Firmware</a></li><li class="chapter-item expanded "><a href="../../config/locales.html"><strong aria-hidden="true">3.3.</strong> Polonizacja programów</a></li><li class="chapter-item expanded "><a href="../../config/users-and-groups.html"><strong aria-hidden="true">3.4.</strong> Użytkownicy i grupy</a></li><li class="chapter-item expanded "><a href="../../config/services/index.html"><strong aria-hidden="true">3.5.</strong> Demony i usługi- runit</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../config/services/user-services.html"><strong aria-hidden="true">3.5.1.</strong> Usługi zarządzane przez użytkownika</a></li><li class="chapter-item expanded "><a href="../../config/services/logging.html"><strong aria-hidden="true">3.5.2.</strong> Logowanie</a></li></ol></li><li class="chapter-item expanded "><a href="../../config/rc-files.html"><strong aria-hidden="true">3.6.</strong> rc.conf, rc.local, rc.shutdown</a></li><li class="chapter-item expanded "><a href="../../config/cron.html"><strong aria-hidden="true">3.7.</strong> Cron</a></li><li class="chapter-item expanded "><a href="../../config/ssd.html"><strong aria-hidden="true">3.8.</strong> Dyski SSD</a></li><li class="chapter-item expanded "><a href="../../config/security/index.html"><strong aria-hidden="true">3.9.</strong> ZAbezpieczenia</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../config/security/apparmor.html"><strong aria-hidden="true">3.9.1.</strong> AppArmor</a></li></ol></li><li class="chapter-item expanded "><a href="../../config/date-time.html"><strong aria-hidden="true">3.10.</strong> Zegar</a></li><li class="chapter-item expanded "><a href="../../config/kernel.html"><strong aria-hidden="true">3.11.</strong> Jądro</a></li><li class="chapter-item expanded "><a href="../../config/power-management.html"><strong aria-hidden="true">3.12.</strong> Zarządzanie energią</a></li><li class="chapter-item expanded "><a href="../../config/network/index.html"><strong aria-hidden="true">3.13.</strong> Sieci</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../config/network/firewalls.html"><strong aria-hidden="true">3.13.1.</strong> Zapora sieciowa</a></li><li class="chapter-item expanded "><a href="../../config/network/wpa_supplicant.html"><strong aria-hidden="true">3.13.2.</strong> wpa_supplicant</a></li><li class="chapter-item expanded "><a href="../../config/network/iwd.html"><strong aria-hidden="true">3.13.3.</strong> IWD</a></li><li class="chapter-item expanded "><a href="../../config/network/networkmanager.html"><strong aria-hidden="true">3.13.4.</strong> NetworkManager</a></li><li class="chapter-item expanded "><a href="../../config/network/connman.html"><strong aria-hidden="true">3.13.5.</strong> ConnMan</a></li></ol></li><li class="chapter-item expanded "><a href="../../config/network-filesystems.html"><strong aria-hidden="true">3.14.</strong> Sieciowe systemy plików</a></li><li class="chapter-item expanded "><a href="../../config/session-management.html"><strong aria-hidden="true">3.15.</strong> Zarządzanie stanowiskami</a></li><li class="chapter-item expanded "><a href="../../config/graphical-session/index.html"><strong aria-hidden="true">3.16.</strong> Środowisko graficzne</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../config/graphical-session/graphics-drivers/index.html"><strong aria-hidden="true">3.16.1.</strong> Sterowniki grafiki</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../config/graphical-session/graphics-drivers/amd.html"><strong aria-hidden="true">3.16.1.1.</strong> AMD i ATI</a></li><li class="chapter-item expanded "><a href="../../config/graphical-session/graphics-drivers/intel.html"><strong aria-hidden="true">3.16.1.2.</strong> Intel</a></li><li class="chapter-item expanded "><a href="../../config/graphical-session/graphics-drivers/nvidia.html"><strong aria-hidden="true">3.16.1.3.</strong> NVIDIA</a></li><li class="chapter-item expanded "><a href="../../config/graphical-session/graphics-drivers/optimus.html"><strong aria-hidden="true">3.16.1.4.</strong> NVIDIA Optimus</a></li></ol></li><li class="chapter-item expanded "><a href="../../config/graphical-session/xorg.html"><strong aria-hidden="true">3.16.2.</strong> Xorg</a></li><li class="chapter-item expanded "><a href="../../config/graphical-session/wayland.html"><strong aria-hidden="true">3.16.3.</strong> Wayland</a></li><li class="chapter-item expanded "><a href="../../config/graphical-session/fonts.html"><strong aria-hidden="true">3.16.4.</strong> Kroje pisma</a></li><li class="chapter-item expanded "><a href="../../config/graphical-session/icons.html"><strong aria-hidden="true">3.16.5.</strong> Ikony</a></li><li class="chapter-item expanded "><a href="../../config/graphical-session/gnome.html"><strong aria-hidden="true">3.16.6.</strong> GNOME</a></li><li class="chapter-item expanded "><a href="../../config/graphical-session/kde.html"><strong aria-hidden="true">3.16.7.</strong> KDE</a></li></ol></li><li class="chapter-item expanded "><a href="../../config/media/index.html"><strong aria-hidden="true">3.17.</strong> Multimedia</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../config/media/alsa.html"><strong aria-hidden="true">3.17.1.</strong> ALSA</a></li><li class="chapter-item expanded "><a href="../../config/media/pulseaudio.html"><strong aria-hidden="true">3.17.2.</strong> PulseAudio</a></li><li class="chapter-item expanded "><a href="../../config/media/sndio.html"><strong aria-hidden="true">3.17.3.</strong> sndio</a></li></ol></li><li class="chapter-item expanded "><a href="../../config/bluetooth.html"><strong aria-hidden="true">3.18.</strong> Bluetooth</a></li><li class="chapter-item expanded "><a href="../../config/texlive.html"><strong aria-hidden="true">3.19.</strong> TeX Live</a></li><li class="chapter-item expanded "><a href="../../config/external-applications.html"><strong aria-hidden="true">3.20.</strong> Programy niedostępne w menadżerze pakietów</a></li><li class="chapter-item expanded "><a href="../../config/print/index.html"><strong aria-hidden="true">3.21.</strong> Drukowanie</a></li><li class="chapter-item expanded "><a href="../../config/containers-and-vms/index.html"><strong aria-hidden="true">3.22.</strong> Konterery i maszyny wirtualne</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../config/containers-and-vms/libvirt.html"><strong aria-hidden="true">3.22.1.</strong> libvirt</a></li><li class="chapter-item expanded "><a href="../../config/containers-and-vms/lxc.html"><strong aria-hidden="true">3.22.2.</strong> LXC</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../xbps/index.html"><strong aria-hidden="true">4.</strong> Menadżer pakietów XBPS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../xbps/advanced-usage.html"><strong aria-hidden="true">4.1.</strong> Zaawansowane tematy</a></li><li class="chapter-item expanded "><a href="../../xbps/repositories/index.html"><strong aria-hidden="true">4.2.</strong> Repozytoria</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../xbps/repositories/mirrors/index.html"><strong aria-hidden="true">4.2.1.</strong> Serwery lustrzane</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../xbps/repositories/mirrors/changing.html"><strong aria-hidden="true">4.2.1.1.</strong> Wybów serwera</a></li><li class="chapter-item expanded "><a href="../../xbps/repositories/mirrors/tor.html"><strong aria-hidden="true">4.2.1.2.</strong> Serwery w Torze</a></li></ol></li><li class="chapter-item expanded "><a href="../../xbps/repositories/restricted.html"><strong aria-hidden="true">4.2.2.</strong> Pakiety nierozprowadzane</a></li><li class="chapter-item expanded "><a href="../../xbps/repositories/custom.html"><strong aria-hidden="true">4.2.3.</strong> Repozytoria zewnętrzne</a></li><li class="chapter-item expanded "><a href="../../xbps/repositories/signing.html"><strong aria-hidden="true">4.2.4.</strong> Podpisywanie repositoriów</a></li></ol></li><li class="chapter-item expanded "><a href="../../xbps/troubleshooting/index.html"><strong aria-hidden="true">4.3.</strong> Rozwiązywanie problemów z XBPS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../xbps/troubleshooting/common-issues.html"><strong aria-hidden="true">4.3.1.</strong> Częste problemy</a></li><li class="chapter-item expanded "><a href="../../xbps/troubleshooting/static.html"><strong aria-hidden="true">4.3.2.</strong> Statyczny XBPS</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../contributing/index.html"><strong aria-hidden="true">5.</strong> Współtworzenie</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../contributing/void-docs/index.html"><strong aria-hidden="true">5.1.</strong> Współtworzenie tego podręcznika</a></li></ol></li></ol>
			</nav>

			<!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
			<script type="text/javascript">
				document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
	document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
	Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
		link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
	});
			</script>

			<div id="page-wrapper">
				
				<div id="search-wrapper" class="hidden">
					<form id="searchbar-outer" class="searchbar-outer">
						<input type="search" name="search" id="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
					</form>
					<div id="searchresults-outer" class="searchresults-outer hidden">
						<div id="searchresults-header" class="searchresults-header"></div>
						<ul id="searchresults">
						</ul>
					</div>
				</div>
				

				<main id="main">
					<h1><a class="header" href="#installation-via-chroot-x86x86_64" id="installation-via-chroot-x86x86_64">Installation via chroot (x86/x86_64)</a></h1>
<p>This guide details the process of manually installing Void via a chroot on
an x86 or x86_64 PC architecture. It is assumed that you have a familiarity
with Linux, but not necessarily with installing a Linux system via a
chroot. This guide can be used to create a a &quot;typical&quot; setup, using a single
partition on a single SATA/IDE/USB disk. Each step may be modified to create
less typical setups, such as <a href="./fde.html">full disk encryption</a>.</p>
<p>Void provides two options for bootstrapping the new installation. The <strong>XBPS
method</strong> uses the <a href="../../xbps/index.html">XBPS Package Manager</a> running on a
host operating system to install the base system. The <strong>ROOTFS method</strong>
installs the base system by unpacking a ROOTFS tarball.</p>
<p>The <strong>XBPS method</strong> requires that the host operating system have XBPS
installed.  This may be an existing installation of Void, an official <a href="../live-images/prep.html">live
image</a>, or any Linux installation running a
<a href="../../xbps/troubleshooting/static.html">statically linked XBPS</a>.</p>
<p>The <strong>ROOTFS method</strong> requires only a host operating system that can enter a
Linux chroot and that has both <a href="https://man.voidlinux.org/tar.1">tar(1)</a> and
<a href="https://man.voidlinux.org/xz.1">xz(1)</a> installed. This method may be
preferable if you wish to install Void using a different Linux distribution.</p>
<h2><a class="header" href="#prepare-filesystems" id="prepare-filesystems">Prepare Filesystems</a></h2>
<p><a href="../live-images/partitions.html">Partition your disks</a> and format them using
<a href="https://man.voidlinux.org/mke2fs.8">mke2fs(8)</a>,
<a href="https://man.voidlinux.org/mkfs.xfs.8">mkfs.xfs(8)</a>,
<a href="https://man.voidlinux.org/mkfs.btrfs.8">mkfs.btrfs(8)</a> or whatever tools
are necessary for your filesystem(s) of choice.</p>
<p><a href="https://man.voidlinux.org/mkfs.vfat.8">mkfs.vfat(8)</a> is also available to
create FAT32 partitions. However, due to restrictions associated with FAT
filesystems, it should only be used when no other filesystem is suitable
(such as for the EFI System Partition).</p>
<p><a href="https://man.voidlinux.org/cfdisk.8">cfdisk(8)</a> and
<a href="https://man.voidlinux.org/fdisk.8">fdisk(8)</a> are available on the live
images for partitioning, but you may wish to use
<a href="https://man.voidlinux.org/gdisk.8">gdisk(8)</a> (from the package <code>gptfdisk</code>)
or <a href="https://man.voidlinux.org/parted.8">parted(8)</a> instead.</p>
<p>For a UEFI booting system, make sure to create an EFI System Partition
(ESP).  The ESP should have the partition type &quot;EFI System&quot; (code <code>EF00</code>)
and be formatted as FAT32 using
<a href="https://man.voidlinux.org/mkfs.vfat.8">mkfs.vfat(8)</a>.</p>
<p>If you're unsure what partitions to create, create a 1GB partition of type
&quot;EFI System&quot; (code <code>EF00</code>), then create a second partition of type &quot;Linux
Filesystem&quot; (code <code>8300</code>) using the remainder of the drive.</p>
<p>Format these partitions as FAT32 and ext4, respectively:</p>
<p><code># mkfs.vfat /dev/sda1 # mkfs.ext4 /dev/sda2</code></p>
<h3><a class="header" href="#create-a-new-root-and-mount-filesystems" id="create-a-new-root-and-mount-filesystems">Create a New Root and Mount Filesystems</a></h3>
<p>This guide will assume the new root filesystem is mounted on <code>/mnt</code>. You may
wish to mount it elsewhere.</p>
<p>If using UEFI, mount the EFI System Partition as <code>/mnt/boot/efi</code>.</p>
<p>For example, if <code>/dev/sda2</code> is to be mounted as <code>/</code> and <code>dev/sda1</code> is the
EFI System Partition:</p>
<pre><code class="language-#mount/dev/sda2/mnt/#mkdir-p/mnt/boot/efi/#mount/dev/sda1">/mnt/boot/efi/ ```

Initialize swap space, if desired, using
[mkswap(8)](https://man.voidlinux.org/mkswap.8).

## Base Installation

Follow only one of the two following subsections.

### The XBPS Method

Select a [mirror](../../xbps/repositories/mirrors/index.md) and use the
[appropriate URL](../../xbps/repositories/index.md#the-main-repository) for
the type of system you wish to install. For simplicity, save this URL to a
shell variable for later use, e.g.:

``` # REPO=https://alpha.de.repo.voidlinux.org/current ```

XBPS also needs to know what architecture is being installed. Available
options are `x86_64`, `x86_64-musl` and `i686` for PC architecture
computers. For example:

``` # ARCH=x86_64 ```

This architecture must be compatible with your current operating system, but
does not need to be the same. If your host is running an x86_64 operating
system, any of the three architectures can be installed (whether the host is
musl or glibc), but an i686 host can only install i686 distributions.

Use [xbps-install(1)](https://man.voidlinux.org/xbps-install.1) to bootstrap
the installation by installing the `base-system` metapackage:

``` # XBPS_ARCH=$ARCH xbps-install -S -r /mnt -R &quot;$REPO&quot; base-system ```

`xbps-install` might ask you to [verify the RSA
keys](../../xbps/troubleshooting/common-issues.md#verifying-rsa-keys) for
the packages you are installing.

### The ROOTFS Method

[Download a ROOTFS
tarball](https://voidlinux.org/download/#download-installable-base-live-images-and-rootfs-tarballs)
matching your architecture.

Unpack the tarball into the newly configured filesystems:

``` # tar xvf void-&lt;...&gt;-ROOTFS.tar.xz -C /mnt ```

## Configuration

With the exception of the section &quot;Install base-system (ROOTFS method
only)&quot;, the remainder of this guide is common to both the XBPS and ROOTFS
installation methods.

### Entering the Chroot

Mount the pseudo-filesystems needed for a chroot:

``` # mount --rbind /sys /mnt/sys &amp;&amp; mount --make-rslave /mnt/sys # mount
--rbind /dev /mnt/dev &amp;&amp; mount --make-rslave /mnt/dev # mount --rbind /proc
/mnt/proc &amp;&amp; mount --make-rslave /mnt/proc ```

Copy the DNS configuration into the new root so that XBPS can still download
new packages inside the chroot:

``` # cp /etc/resolv.conf /mnt/etc/ ```

Chroot into the new installation:

``` # PS1='(chroot) # ' chroot /mnt/ /bin/bash ```

### Install base-system (ROOTFS method only)

ROOTFS images generally contain out of date software, due to being a
snapshot of the time when they were built, and do not come with a complete
`base-system`.  Update the package manager and install `base-system`:

``` # xbps-install -Su xbps # xbps-install -u # xbps-install base-system #
xbps-remove base-voidstrap ```

### Installation Configuration

Specify the hostname in `/etc/hostname`. Go through the options in
[`/etc/rc.conf`](../../config/rc-files.md#rcconf). If installing a glibc
distribution, edit `/etc/default/libc-locales`, uncommenting desired
[locales](../../config/locales.md).

[nvi(1)](https://man.voidlinux.org/nvi.1) is available in the chroot, but
you may wish to install your preferred text editor at this time.

For glibc builds, generate locale files with:

``` (chroot) # xbps-reconfigure -f glibc-locales ```

### Set a Root Password

[Configure at least one super user
account](../../config/users-and-groups.md).  Other user accounts can be
configured later, but there should either be a root password, or a new user
account with [sudo(8)](https://man.voidlinux.org/sudo.8)  privileges.

To set a root password, run:

``` (chroot) # passwd ```

### Configure fstab

The [fstab(5)](https://man.voidlinux.org/fstab.5) file can be automatically
generated from currently mounted filesystems by copying the file
`/proc/mounts`:

``` (chroot) # cp /proc/mounts /etc/fstab ```

Remove lines in `/etc/fstab` that refer to `proc`, `sys`, `devtmpfs` and
`pts`.

Replace references to `/dev/sdXX`, `/dev/nvmeXnYpZ`, etc. with their
respective UUID, which can be found by running
[blkid(8)](https://man.voidlinux.org/blkid.8). Referring to filesystems by
their UUID guarantees they will be found even if they are assigned a
different name at a later time. In some situations, such as booting from
USB, this is absolutely essential. In other situations, disks will always
have the same name unless drives are physically added or removed. Therefore,
this step may not be strictly necessary, but is almost always recommended.

Change the last zero of the entry for `/` to `1`, and the last zero of every
other line to `2`. These values configure the behaviour of
[fsck(8)](https://man.voidlinux.org/fsck.8).

For example, the partition scheme used throughout previous examples yields
the following `fstab`:

</code></pre>
<p>/dev/sda1       /boot/EFI   vfat    rw,relatime,[...]       0 0
/dev/sda2       /           ext4    rw,relatime             0 0</p>
<pre><code>
The information from `blkid` results in the following `/etc/fstab`:

</code></pre>
<p>UUID=6914[...]  /boot/EFI   vfat    rw,relatime,[...]       0 2
UUID=dc1b[...]  /           ext4    rw,relatime             0 1</p>
<pre><code>
Note: The output of `/proc/mounts` will have a single space between each
field.  The columns are aligned here for readability.

Add an entry to mount `/tmp` in RAM:

</code></pre>
<p>tmpfs           /tmp        tmpfs   defaults,nosuid,nodev   0 0</p>
<pre><code>
If using swap space, add an entry for any swap partitions:

</code></pre>
<p>UUID=1cb4[...]  swap        swap    rw,noatime,discard      0 0</p>
<pre><code>
## Installing GRUB

Use
[grub-install](https://www.gnu.org/software/grub/manual/grub/html_node/Installing-GRUB-using-grub_002dinstall.html)
to install GRUB onto your boot disk.

**On a BIOS computer**, install the package `grub`, then run `grub-install
/dev/sdX`, where `/dev/sdX` is the drive (not partition) that you wish to
install GRUB to. For example:

``` (chroot) # xbps-install grub (chroot) # grub-install /dev/sda ```

**On a UEFI computer**, install either `grub-x86_64-efi` or `grub-i386-efi`,
depending on your architecture, then run `grub-install`, optionally specifying a
bootloader label (this label may be used by your computer's firmware when
manually selecting a boot device):

``` (chroot) # xbps-install grub-x86_64-efi (chroot) # grub-install
--target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=&quot;Void&quot; ```

If installing onto a removable disk (such as USB), add the option
`--removable` to the `grub-install` command.

## Finalization

Use [xbps-reconfigure(1)](https://man.voidlinux.org/xbps-reconfigure.1) to
ensure all installed packages are configured properly:

``` (chroot) # xbps-reconfigure -fa ```

This will make [dracut(8)](https://man.voidlinux.org/dracut.8) generate an
initramfs, and will make GRUB generate a working configuration.

At this point, the installation is complete. Exit the chroot and reboot your
computer:

``` (chroot) # exit # shutdown -r now ```

After booting into your Void installation for the first time, [perform a
system update](../../xbps/index.md#updating).
</code></pre>

				</main>

				<nav id="nav-wide-wrapper" aria-label="Page navigation">
					
						<a href="../../installation/guides/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
								<path d="M4 10l9 9 1.4-1.5L7 10l7.4-7.5L13 1z"/>
							</svg>
						</a>
					

					
						<a href="../../installation/guides/fde.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
								<path d="M7 1L5.6 2.5 13 10l-7.4 7.5L7 19l9-9z"/>
							</svg>
						</a>
					
				</nav>
			</div>
		</div>

        

        
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>
    </body>
</html>
